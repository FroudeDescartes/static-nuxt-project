import{aH as se,bb as re,bc as ce,aI as ue,aN as de,d as N,bk as ve,bl as L,aJ as pe,aK as me,aP as be,bm as ye,b as y,o as h,aG as g,h as n,w as O,bn as he,e as l,bo as fe,f as Ne,aU as i,bp as A,bq as q,aF as u}from"./LyvLWOpl.js";import{_ as ge}from"./DKHnaUaE.js";const _e={wrapper:"space-y-8 mt-20",table:{wrapper:"border rounded-xl p-4",title:"text-xl font-bold font-mono",content:{base:"w-full grid grid-cols-2 gap-6 lg:flex lg:flex-row lg:items-center lg:justify-between",padding:"p-4 pl-4 pr-4",title:"text-center font-bold",text:"text-center dark:text-gray-400"}}},De={class:"truncate whitespace-nowrap"},xe={class:"truncate whitespace-nowrap"},we={class:"w-full pl-4 pr-4 border rounded-xl p-4 space-y-8"},ke={class:"w-full flex flex-row items-start p-4 border rounded-xl"},Ce={class:"w-fit p-4"},Fe={class:i("text-left dark:text-gray-400")},Te={class:"w-1/4 p-4"},Ie={class:"w-fit md:w-1/2 p-4"},Ve=["innerHTML"],Le={class:"text-xl absolute font-bold font-mono p-4"},Ae={class:"relative flex flex-row items-start pt-20 p-8 space-x-10 border rounded-xl"},qe={class:"w-1/6 flex-shrink-0"},Me={class:"w-1/3 flex-shrink-0"},Re={class:"flex-1"},Se={class:"text-center dark:text-gray-400 whitespace-pre-line list-outside"},Ee=se({__name:"eh-mrid",props:{ui:{}},async setup(Q){var B,U,E;let w,M;const W=Q,{ui:o}=re("eh-card",ce(W,"ui"),_e),X={container:"max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800"},R=ue(),Y=de(),k=N(()=>R.query.mrid_id||"Missing MRID"),{$model_rules_v1_2:Z,$readCheckFunctionDescriptions:ee}=ve(),f=L([]),F=L({}),{data:C}=([w,M]=pe(()=>me("mrid-data",()=>be("modelData").all())),w=await w,M(),w);ye(()=>{if(C.value&&Array.isArray(C.value)&&C.value.length>0){const t=C.value[0];if(t&&t.meta){const s=t.meta;F.value=ee(s),f.value=Z(s)}}});const e=N(()=>!f.value||f.value.length===0?null:f.value.find(t=>t.id===k.value)),T=()=>!f.value||f.value.length===0?[]:f.value.map(t=>({label:t.id,value:t.id,click:()=>te(t.id)})),te=t=>{Y.push({query:{...R.query,mrid_id:t}})},ae=N(()=>[{columnName:"MRID",label:k.value||"No Data",value:"",icon:"",entityType:[T().length>0?T():[{label:k.value||"No Data",value:k.value||"No Data",click:()=>{}}]]}]),ne=N(()=>{var t,s,r,c,d,v,p,m,a,b,_,D,x,z,H,$,K,P,j,G,J;return[{columnName:"Entity Type",badgeLabel:((t=e.value)==null?void 0:t.entityType)||"No Data",value:"entity1",icon:"",entityType:[[{label:((s=e.value)==null?void 0:s.entityType)||"No Data",value:((r=e.value)==null?void 0:r.entityType)||"No Data"}]]},{columnName:"Status",badgeLabel:((c=e.value)==null?void 0:c.status)||"No Data",value:"status",icon:"",entityType:[[{label:((d=e.value)==null?void 0:d.status)||"No Data",value:((v=e.value)==null?void 0:v.status)||"No Data"}]]},{columnName:"Applicability Criteria",badgeLabel:((p=e.value)==null?void 0:p.applicabilityCriteria)||"No Data",value:"applicabilityCriteria",icon:"",entityType:[[{label:((m=e.value)==null?void 0:m.applicabilityCriteria)||"No Data",value:((a=e.value)==null?void 0:a.applicabilityCriteria)||"No Data"}]]},{columnName:"Function",badgeLabel:((b=e.value)==null?void 0:b.function)||"No Data",value:"function",icon:"",entityType:[[{label:((_=e.value)==null?void 0:_.function)||"No Data",value:((D=e.value)==null?void 0:D.function)||"No Data"}]]},{columnName:"Reference",badgeLabel:((x=e.value)==null?void 0:x.reference)||"No Data",value:"reference",icon:"",entityType:[[{label:((z=e.value)==null?void 0:z.reference)||"No Data",value:((H=e.value)==null?void 0:H.reference)||"No Data"}]]},{columnName:"Model Version Introduced",badgeLabel:(($=e.value)==null?void 0:$.modelVersionIntroduced)||"No Data",value:"model_version_introduced",icon:"",entityType:[[{label:((K=e.value)==null?void 0:K.modelVersionIntroduced)||"No Data",value:((P=e.value)==null?void 0:P.modelVersionIntroduced)||"No Data"}]]},{columnName:"Type",badgeLabel:((j=e.value)==null?void 0:j.type)||"No Data",value:"type",icon:"",entityType:[[{label:((G=e.value)==null?void 0:G.type)||"No Data",value:((J=e.value)==null?void 0:J.type)||"No Data"}]]}]}),I=N(()=>{var t,s,r,c,d,v,p,m,a,b;return{columnName:"Notes",badgeLabel:((t=e.value)==null?void 0:t.note)||((s=e.value)==null?void 0:s.notes)||"No Data",value:"notes",icon:"",entityType:[[{label:(r=e.value)!=null&&r.note||(c=e.value)!=null&&c.notes?(((d=e.value)==null?void 0:d.note)||((v=e.value)==null?void 0:v.notes)).trim()||"No Notes":"No Data",value:(p=e.value)!=null&&p.note||(m=e.value)!=null&&m.notes?(((a=e.value)==null?void 0:a.note)||((b=e.value)==null?void 0:b.notes)).trim()||"No Notes":"No Data"}]]}}),le=N(()=>{var d,v,p,m;const t=((d=e.value)==null?void 0:d.requirement_checkFunction)||"No Data",s=((v=e.value)==null?void 0:v.condition_checkFunction)||"No Data",r=F.value[t]||"No description available",c=F.value[s]||"No description available";return[{columnName:"Requirement",checkFunction:"Check Function",description:"Description",arguments:"Arguments",value:"requirement",requirements:[{checkFunction:t},{description:r},{reqArguments:(((p=e.value)==null?void 0:p.reqArguments)||"No Data").replace(/<\/?(?:pre|code)>/g,"")}]},{columnName:"Condition",checkFunction:"Check Function",description:"Description",arguments:"Arguments",value:"condition",requirements:[{checkFunction:s},{description:c},{conditionArguments:(((m=e.value)==null?void 0:m.conditionArguments)||"No Data").replace(/<\/?(?:pre|code)>/g,"")}]}]}),V=L(((B=e.value)==null?void 0:B.modelVersionIntroduced)||"Error Loading Version. Please Refresh or Check Data Source"),oe=N(()=>{var s,r;if(!V.value)return(s=e.value)==null?void 0:s.modelVersionIntroduced;const t=S[0].find(c=>c.value===V.value);return t?t.label:(r=e.value)==null?void 0:r.modelVersionIntroduced}),ie=t=>{t.value&&(V.value=t.value)},S=[[{label:(U=e.value)==null?void 0:U.modelVersionIntroduced,value:(E=e.value)==null?void 0:E.modelVersionIntroduced,icon:"i-heroicons-check-badge-20-solid",click:()=>{var t;return ie({value:(t=e.value)==null?void 0:t.modelVersionIntroduced})}}]];return(t,s)=>{var v,p,m;const r=he,c=fe,d=ge;return h(),y("div",{class:i(l(o).wrapper)},[g(c,{items:S,popper:{placement:"bottom-start"}},{default:O(()=>[g(r,{color:"green",label:"Version "+l(oe),"trailing-icon":"i-heroicons-chevron-down-20-solid"},null,8,["label"])]),_:1}),n("div",{class:i(l(o).table.wrapper)},[n("div",{class:i(l(o).table.title)},"Entity Definition",2),n("div",{class:i([l(o).table.content.base,l(o).table.content.padding,l(o).table.content.text])},[(h(!0),y(A,null,q(l(ae),a=>(h(),y("div",{key:a.value},[n("div",null,u(a.columnName+` (Total: ${T().length})`),1),g(c,{items:a.entityType,popper:{placement:"bottom-start"},ui:X},{default:O(()=>[g(r,{color:"white",label:a.label,"trailing-icon":"i-heroicons-chevron-down-20-solid"},null,8,["label"])]),_:2},1032,["items"])]))),128)),(h(!0),y(A,null,q(l(ne),a=>(h(),y("div",{key:a.value},[n("div",De,u(a.columnName),1),g(d,{label:a.badgeLabel,color:"white",size:"lg"},null,8,["label"])]))),128))],2),l(I).badgeLabel!=="No Data"?(h(),y("div",{key:0,class:i([[l(o).table.content.padding,l(o).table.content.text],"mx-auto w-fit flex flex-col mt-4"])},[n("div",xe,u(l(I).columnName),1),g(d,{label:l(I).badgeLabel,color:"white",size:"lg"},null,8,["label"])],2)):Ne("",!0)],2),n("div",we,[n("div",{class:i(l(o).table.title)},"Validation Criteria",2),n("div",ke,[n("div",Ce,[n("div",{class:i(l(o).table.content.title)},"Must Satisfy",2),n("div",Fe,u(((v=l(e))==null?void 0:v.mustSatisfy)||"No Data"),1)]),n("div",Te,[n("div",{class:i(l(o).table.content.title)},"Keyword",2),n("div",{class:i(l(o).table.content.text)},u(((p=l(e))==null?void 0:p.keyword)||"No Data"),3)]),n("div",Ie,[n("div",null,[n("div",{class:i(l(o).table.content.title)},"Dependencies",2),n("div",{class:i(l(o).table.content.text),innerHTML:(((m=l(e))==null?void 0:m.dependencies)||"No Data").replace(/,\s*/g,",<br>")},null,10,Ve)])])]),(h(!0),y(A,null,q(l(le),a=>{var b,_,D,x;return h(),y("div",{key:a.value},[n("div",Le,u(a.columnName),1),n("div",Ae,[n("div",qe,[n("div",{class:i(l(o).table.content.title)},u(a.checkFunction),3),n("div",{class:i(l(o).table.content.text)},u(a.value==="requirement"?a.requirements[0].checkFunction:(b=a.requirements[0])==null?void 0:b.checkFunction),3)]),n("div",Me,[n("div",{class:i(l(o).table.content.title)},u(a.description),3),n("div",{class:i([((_=a.requirements[1])==null?void 0:_.description)!=="No description available"?"text-left dark:text-gray-400":l(o).table.content.text])},u(a.value==="requirement"?a.requirements[1].description:(D=a.requirements[1])==null?void 0:D.description),3)]),n("div",Re,[n("div",{class:i(l(o).table.content.title)},u(a.arguments),3),n("div",Se,u(a.value==="requirement"?a.requirements[2].reqArguments:(x=a.requirements[2])==null?void 0:x.conditionArguments),1)])])])}),128))])],2)}}});export{Ee as default};
