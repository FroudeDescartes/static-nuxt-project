const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CDrbQ1zY.js","./hPtZrLf-.js","./entry.Ca6yWx1K.css"])))=>i.map(i=>d[i]);
import{aH as L,bt as D,bu as P,d as v,bv as k,bw as H,bx as B,by as W,bz as R,bA as z,bB as _,bC as F,bD as G,bE as J,bF as X,bG as Q,aJ as Y,aK as Z,bq as tt,r as et,c as rt,f as nt,o as ot,e as b,aU as at}from"./hPtZrLf-.js";const O=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],st=["p","h1","h2","h3","h4","h5","h6","li"];function w(t,r){return t.type===r||typeof t.type=="object"&&t.type.tag===r||t.tag===r}function S(t){return w(t,"text")||w(t,Symbol.for("v-txt"))}function N(t){var r;return Array.isArray(t.children)||typeof t.children=="string"?t.children:typeof((r=t.children)==null?void 0:r.default)=="function"?t.children.default():[]}function C(t){if(!t)return"";if(Array.isArray(t))return t.map(C).join("");if(S(t))return t.value||t.children||"";const r=N(t);return Array.isArray(r)?r.map(C).filter(Boolean).join(""):""}function M(t,r=[]){if(Array.isArray(t))return t.flatMap(n=>M(n,r));let e=t;return r.some(n=>n==="*"||w(t,n))&&(e=N(t)||t,!Array.isArray(e)&&st.some(n=>w(t,n))&&(e=[e])),e}function $(t,r=[]){return t=Array.isArray(t)?t:[t],r.length?t.flatMap(e=>$(M(e,[r[0]]),r.slice(1))).filter(e=>!(S(e)&&C(e).trim()==="")):t}function q(t,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(e=>e.trim()).filter(Boolean)),r.length?$(t,r).reduce((e,n)=>(S(n)?typeof e[e.length-1]=="string"?e[e.length-1]+=n.children:e.push(n.children):e.push(n),e),[]):t}function it(t,r){return r.reduce((e,n)=>{const o=ut(t,n);return o!==void 0&&(e[n]=o),e},{})}function ut(t,r){return r.split(".").reduce((e,n)=>e&&e[n],t)}const T="default",I=/^@|^v-on:/,E=/^:|^v-bind:/,lt=/^v-model/,ct=["select","textarea","input"],pt=["math","svg"],ft=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(t=>[t,`prose-${t}`])),dt=["script","base"],mt=L({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(t){var l,i,s;const r=(i=(l=P())==null?void 0:l.appContext)==null?void 0:i.app,e=r==null?void 0:r.$nuxt,n=(e==null?void 0:e.$route)||(e==null?void 0:e._route),{mdc:o}=((s=e==null?void 0:e.$config)==null?void 0:s.public)||{},a=v(()=>{var u,m,y,d;return{...(u=o==null?void 0:o.components)!=null&&u.prose&&t.prose!==!1?ft:{},...((m=o==null?void 0:o.components)==null?void 0:m.map)||{},...k(((d=(y=t.data)==null?void 0:y.mdc)==null?void 0:d.components)||{}),...t.components}}),f=v(()=>{var m;const u=(((m=t.body)==null?void 0:m.children)||[]).map(y=>y.tag||y.type).filter(y=>!O.includes(y));return Array.from(new Set(u)).sort().join(".")}),c=H({...t.data});B(()=>t.data,u=>{Object.assign(c,u)}),await jt(t.body,{tags:a.value});function p(u,m){const y=u.split(".").length-1;return u.split(".").reduce((d,h,g)=>g==y&&d?(d[h]=m,d[h]):typeof d=="object"?d[h]:void 0,c)}return{tags:a,contentKey:f,route:n,runtimeData:c,updateRuntimeData:p}},render(t){var m,y;const{tags:r,tag:e,body:n,data:o,contentKey:a,route:f,unwrap:c,runtimeData:p,updateRuntimeData:l}=t;if(!n)return null;const i={...o,tags:r,$route:f,runtimeData:p,updateRuntimeData:l},s=e!==!1?j(e||((m=i.component)==null?void 0:m.name)||i.component||"div"):void 0;return s?D(s,{...(y=i.component)==null?void 0:y.props,class:t.class,...this.$attrs,key:a},{default:u}):u==null?void 0:u();function u(){const d=U(n,D,{documentMeta:i,parentScope:i,resolveComponent:j});return d!=null&&d.default?c?q(d.default(),typeof c=="string"?c.split(" "):["*"]):d.default():null}}});function yt(t,r,e,n){const{documentMeta:o,parentScope:a,resolveComponent:f}=e;if(t.type==="text")return r(_,t.value);if(t.type==="comment")return r(F,null,t.value);const c=t.tag,p=K(t,o.tags);if(t.tag==="binding")return ht(t,r,o,a);const l=V(p)?u=>u:f;if(dt.includes(p))return r("pre",{class:"mdc-renderer-dangerous-tag"},"<"+p+">"+C(t)+"</"+p+">");const i=l(p);typeof i=="object"&&(i.tag=c);const s=gt(t,o);return n&&(s.key=n),r(i,s,U(t,r,{documentMeta:o,parentScope:{...a,...s},resolveComponent:l}))}function U(t,r,e){const{documentMeta:n,parentScope:o,resolveComponent:a}=e,c=(t.children||[]).reduce((l,i)=>{if(!At(i))return l[T].children.push(i),l;const s=Ct(i);return l[s]=l[s]||{props:{},children:[]},i.type==="element"&&(l[s].props=i.props,l[s].children.push(...i.children||[])),l},{[T]:{props:{},children:[]}});return Object.entries(c).reduce((l,[i,{props:s,children:u}])=>(u.length&&(l[i]=(m={})=>{const y=it(m,Object.keys(s||{}));let d=u.map((h,g)=>{var x;return yt(h,r,{documentMeta:n,parentScope:{...o,...y},resolveComponent:a},String(((x=h.props)==null?void 0:x.key)||g))});return s!=null&&s.unwrap&&(d=q(d,s.unwrap)),Tt(d)}),l),{})}function ht(t,r,e,n={}){var l,i;const o={...e.runtimeData,...n,$document:e,$doc:e},a=/\.|\[(\d+)\]/,c=((l=t.props)==null?void 0:l.value.trim().split(a).filter(Boolean)).reduce((s,u)=>{if(s&&u in s)return typeof s[u]=="function"?s[u]():s[u]},o),p=(i=t.props)==null?void 0:i.defaultValue;return r(_,c??p??"")}function gt(t,r){const{tag:e="",props:n={}}=t;return Object.keys(n).reduce(function(o,a){if(a==="__ignoreMap")return o;const f=n[a];if(lt.test(a))return bt(a,f,o,r,{native:ct.includes(e)});if(a==="v-bind")return vt(a,f,o,r);if(I.test(a))return _t(a,f,o,r);if(E.test(a))return wt(a,f,o,r);const{attribute:c}=J(X,a);return Array.isArray(f)&&f.every(p=>typeof p=="string")?(o[c]=f.join(" "),o):(o[c]=f,o)},{})}function bt(t,r,e,n,{native:o}){var p;const a=((p=t.match(/^v-model:([^=]+)/))==null?void 0:p[1])||"modelValue",f=o?"value":a,c=o?"onInput":`onUpdate:${a}`;return e[f]=A(r,n.runtimeData),e[c]=l=>{var i;n.updateRuntimeData(r,o?(i=l.target)==null?void 0:i.value:l)},e}function vt(t,r,e,n){const o=A(r,n);return e=Object.assign(e,o),e}function _t(t,r,e,n){return t=t.replace(I,""),e.on=e.on||{},e.on[t]=()=>A(r,n),e}function wt(t,r,e,n){return t=t.replace(E,""),e[t]=A(r,n),e}const j=t=>{if(typeof t=="string"){if(O.includes(t))return t;const r=W(R(t),!1);return!t||(r==null?void 0:r.name)==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?z(()=>new Promise(e=>e(r))):r}return t};function A(t,r){const e=t.split(".").reduce((n,o)=>typeof n=="object"?n[o]:void 0,r);return typeof e>"u"?Q(t):e}function Ct(t){let r="";for(const e of Object.keys(t.props||{}))if(!(!e.startsWith("#")&&!e.startsWith("v-slot:"))){r=e.split(/[:#]/,2)[1];break}return r||T}function At(t){return t.tag==="template"}function V(t){return pt.includes(t)}function Tt(t){const r=[];for(const e of t){const n=r[r.length-1];e.type===_&&(n==null?void 0:n.type)===_?n.children=n.children+e.children:r.push(e)}return r}async function jt(t,r){if(!t)return;const e=Array.from(new Set(n(t,r)));await Promise.all(e.map(async o=>{if(o!=null&&o.render||o!=null&&o.ssrRender||o!=null&&o.__ssrInlineRender)return;const a=j(o);a!=null&&a.__asyncLoader&&!a.__asyncResolved&&await a.__asyncLoader()}));function n(o,a){const f=o.tag;if(o.type==="text"||f==="binding"||o.type==="comment")return[];const c=K(o,a.tags);if(V(c))return[];const p=[];o.type!=="root"&&!O.includes(c)&&p.push(c);for(const l of o.children||[])p.push(...n(l,a));return p}}function K(t,r){var n;const e=t.tag;return!e||typeof((n=t.props)==null?void 0:n.__ignoreMap)<"u"?e:r[e]||r[R(e)]||r[G(t.tag)]||e}const St={__name:"MDC",props:{tag:{type:[String,Boolean],default:"div"},value:{type:[String,Object],required:!0},excerpt:{type:Boolean,default:!1},parserOptions:{type:Object,default:()=>({})},class:{type:[String,Array,Object],default:""},unwrap:{type:[Boolean,String],default:!1},cacheKey:{type:String,default:void 0},partial:{type:Boolean,default:!0}},async setup(t){let r,e;const n=t,o=v(()=>n.cacheKey??l(n.value)),{data:a,refresh:f,error:c}=([r,e]=Y(async()=>Z(o.value,async()=>{var s,u;if(typeof n.value!="string")return n.value;const{parseMarkdown:i}=await tt(async()=>{const{parseMarkdown:m}=await import("./CDrbQ1zY.js").then(y=>y.i);return{parseMarkdown:m}},__vite__mapDeps([0,1,2]),import.meta.url);return await i(n.value,{...n.parserOptions,toc:n.partial?!1:(s=n.parserOptions)==null?void 0:s.toc,contentHeading:n.partial?!1:(u=n.parserOptions)==null?void 0:u.contentHeading})},"$R23qlhow_i")),r=await r,e(),r),p=v(()=>{var i,s;return n.excerpt?(i=a.value)==null?void 0:i.excerpt:(s=a.value)==null?void 0:s.body});B(()=>n.value,()=>{f()});function l(i){typeof i!="string"&&(i=JSON.stringify(i||""));let s=0;for(let u=0;u<i.length;u++){const m=i.charCodeAt(u);s=(s<<6)-s+m,s=s&s}return`mdc-${s===0?"0000":s.toString(36)}-key`}return(i,s)=>{var m,y,d,h;const u=mt;return et(i.$slots,"default",{data:(m=b(a))==null?void 0:m.data,body:(y=b(a))==null?void 0:y.body,toc:(d=b(a))==null?void 0:d.toc,excerpt:(h=b(a))==null?void 0:h.excerpt,error:b(c)},()=>{var g;return[p.value?(ot(),rt(u,{key:0,tag:n.tag,class:at(n.class),body:p.value,data:(g=b(a))==null?void 0:g.data,unwrap:n.unwrap},null,8,["tag","class","body","data","unwrap"])):nt("",!0)]})}}};export{st as T,St as _,S as a,N as b,q as f,O as h,w as i,C as n,M as u};
